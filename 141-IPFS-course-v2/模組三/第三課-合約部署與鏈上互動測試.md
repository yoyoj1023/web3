# ç¬¬ä¸‰èª²ï¼šåˆç´„éƒ¨ç½²èˆ‡éˆä¸Šäº’å‹•æ¸¬è©¦

## ğŸ¯ å­¸ç¿’ç›®æ¨™

å®Œæˆæœ¬èª²å¾Œï¼Œæ‚¨å°‡èƒ½å¤ ï¼š
- æˆåŠŸéƒ¨ç½² MessageBoard åˆç´„åˆ°æœ¬åœ°é–‹ç™¼ç¶²è·¯
- ä½¿ç”¨ Scaffold-eth-2 çš„ Debug Contracts é é¢æ¸¬è©¦åˆç´„åŠŸèƒ½
- ç†è§£æ™ºèƒ½åˆç´„çš„éƒ¨ç½²æµç¨‹å’Œå¸¸è¦‹å•é¡Œ
- æŒæ¡åˆç´„äº’å‹•çš„æœ€ä½³å¯¦è¸

## ğŸ“‹ èª²ç¨‹å¤§ç¶±

1. [ç’°å¢ƒæº–å‚™èˆ‡å•Ÿå‹•](#ç’°å¢ƒæº–å‚™èˆ‡å•Ÿå‹•)
2. [åˆç´„éƒ¨ç½²æµç¨‹](#åˆç´„éƒ¨ç½²æµç¨‹)
3. [Debug Contracts ä»‹é¢ä½¿ç”¨](#debug-contracts-ä»‹é¢ä½¿ç”¨)
4. [åŠŸèƒ½æ¸¬è©¦æ¸…å–®](#åŠŸèƒ½æ¸¬è©¦æ¸…å–®)
5. [å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ](#å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ)

---

## ç’°å¢ƒæº–å‚™èˆ‡å•Ÿå‹•

### ğŸš€ **æ­¥é©Ÿä¸€ï¼šç¢ºèªå°ˆæ¡ˆçµæ§‹**

ç¢ºä¿æ‚¨çš„å°ˆæ¡ˆå…·æœ‰ä»¥ä¸‹çµæ§‹ï¼š

```
my-message-board/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ hardhat/
â”‚   â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”‚   â””â”€â”€ MessageBoard.sol    â†â† ä¸Šä¸€èª²å»ºç«‹çš„åˆç´„
â”‚   â”‚   â”œâ”€â”€ deploy/
â”‚   â”‚   â”‚   â””â”€â”€ 00_deploy_message_board.ts
â”‚   â”‚   â””â”€â”€ hardhat.config.ts
â”‚   â””â”€â”€ nextjs/
â””â”€â”€ package.json
```

### ğŸš€ **æ­¥é©ŸäºŒï¼šå•Ÿå‹•æœ¬åœ°å€å¡Šéˆ**

é–‹å•Ÿç¬¬ä¸€å€‹çµ‚ç«¯è¦–çª—ï¼Œå•Ÿå‹•æœ¬åœ° Hardhat ç¶²è·¯ï¼š

```bash
# é€²å…¥å°ˆæ¡ˆæ ¹ç›®éŒ„
cd my-message-board

# å•Ÿå‹•æœ¬åœ°å€å¡Šéˆ
yarn chain
```

æ‚¨æ‡‰è©²æœƒçœ‹åˆ°é¡ä¼¼çš„è¼¸å‡ºï¼š

```
Started HTTP and WebSocket JSON-RPC server at http://127.0.0.1:8545/

Accounts
========

Account #0: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266 (10000 ETH)
Private Key: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

Account #1: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8 (10000 ETH)
Private Key: 0x59c6995e998f97a5a0044966f0945389dc9e86dae88c6a8412f721fd8e
```

**âš ï¸ ä¿æŒæ­¤çµ‚ç«¯é‹è¡Œï¼Œä¸è¦é—œé–‰ï¼**

### ğŸš€ **æ­¥é©Ÿä¸‰ï¼šå•Ÿå‹•å‰ç«¯æ‡‰ç”¨**

é–‹å•Ÿç¬¬äºŒå€‹çµ‚ç«¯è¦–çª—ï¼Œå•Ÿå‹•å‰ç«¯ï¼š

```bash
# åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„çš„æ–°çµ‚ç«¯è¦–çª—
cd my-message-board

# å•Ÿå‹•å‰ç«¯
yarn start
```

ç­‰å¾…ç·¨è­¯å®Œæˆå¾Œï¼Œå‰ç«¯æœƒåœ¨ `http://localhost:3000` ä¸Šé‹è¡Œã€‚

---

## åˆç´„éƒ¨ç½²æµç¨‹

### ğŸ“¦ **æ­¥é©Ÿä¸€ï¼šç·¨è­¯åˆç´„**

é–‹å•Ÿç¬¬ä¸‰å€‹çµ‚ç«¯è¦–çª—é€²è¡Œéƒ¨ç½²ï¼š

```bash
# åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„çš„æ–°çµ‚ç«¯è¦–çª—
cd my-message-board

# ç·¨è­¯åˆç´„
yarn compile
```

æˆåŠŸç·¨è­¯å¾Œæœƒçœ‹åˆ°ï¼š

```
Compiling 1 file with 0.8.19
Compilation finished successfully
```

### ğŸ“¦ **æ­¥é©ŸäºŒï¼šéƒ¨ç½²åˆç´„**

```bash
# éƒ¨ç½²åˆ°æœ¬åœ°ç¶²è·¯
yarn deploy
```

æˆåŠŸéƒ¨ç½²å¾Œæœƒçœ‹åˆ°ï¼š

```
deploying "MessageBoard" (tx: 0x...)...
deployed at 0x5FbDB2315678afecb367f032d93F642f64180aa3 with 2,845,947 gas
ğŸ‘‹ MessageBoard deployed to: 0x5FbDB2315678afecb367f032d93F642f64180aa3
```

### ğŸ“¦ **æ­¥é©Ÿä¸‰ï¼šé©—è­‰éƒ¨ç½²**

æª¢æŸ¥åˆç´„æ˜¯å¦æ­£ç¢ºéƒ¨ç½²ï¼š

```bash
# æŸ¥çœ‹éƒ¨ç½²çš„åˆç´„è³‡è¨Š
yarn hardhat console --network localhost
```

åœ¨ console ä¸­åŸ·è¡Œï¼š

```javascript
// ç²å–åˆç´„å¯¦ä¾‹
const MessageBoard = await ethers.getContractFactory("MessageBoard");
const messageBoard = await MessageBoard.attach("0x5FbDB2315678afecb367f032d93F642f64180aa3");

// æª¢æŸ¥åŸºæœ¬è³‡è¨Š
console.log("Contract address:", messageBoard.address);
console.log("Total messages:", await messageBoard.getTotalMessages());
console.log("Is paused:", await messageBoard.isPaused());

// é€€å‡º console
.exit
```

---

## Debug Contracts ä»‹é¢ä½¿ç”¨

### ğŸ”§ **æ­¥é©Ÿä¸€ï¼šå­˜å– Debug Contracts é é¢**

1. é–‹å•Ÿç€è¦½å™¨ï¼Œå‰å¾€ `http://localhost:3000`
2. é»æ“Šé ‚éƒ¨å°èˆªåˆ—çš„ **"Debug Contracts"** é¸é …
3. æ‚¨æ‡‰è©²æœƒçœ‹åˆ° `MessageBoard` åˆç´„çš„äº’å‹•ä»‹é¢

### ğŸ”§ **æ­¥é©ŸäºŒï¼šä»‹é¢æ¦‚è¦½**

Debug Contracts é é¢æœƒé¡¯ç¤ºï¼š

```
ğŸ“‹ MessageBoard Contract
â”œâ”€â”€ ğŸ“– Read Functions (æŸ¥è©¢åŠŸèƒ½)
â”‚   â”œâ”€â”€ getAllMessages
â”‚   â”œâ”€â”€ getMessage
â”‚   â”œâ”€â”€ getLatestMessages  
â”‚   â”œâ”€â”€ getUserMessages
â”‚   â”œâ”€â”€ getTotalMessages
â”‚   â”œâ”€â”€ getUserMessageCount
â”‚   â”œâ”€â”€ owner
â”‚   â”œâ”€â”€ isPaused
â”‚   â””â”€â”€ messages (array access)
â”œâ”€â”€ âœï¸ Write Functions (å¯«å…¥åŠŸèƒ½)
â”‚   â”œâ”€â”€ postMessage
â”‚   â”œâ”€â”€ setPaused
â”‚   â””â”€â”€ transferOwnership
â””â”€â”€ ğŸ“… Events (äº‹ä»¶æ—¥èªŒ)
    â”œâ”€â”€ MessagePosted
    â””â”€â”€ BoardStatusChanged
```

### ğŸ”§ **æ­¥é©Ÿä¸‰ï¼šä»‹é¢æ“ä½œèªªæ˜**

#### **è®€å–åŠŸèƒ½ï¼ˆç„¡éœ€ Gasï¼‰**
- é»æ“Šå‡½å¼åç¨±å³å¯åŸ·è¡Œ
- çµæœæœƒå³æ™‚é¡¯ç¤ºåœ¨ä¸‹æ–¹
- å¯ä»¥é‡è¤‡åŸ·è¡Œä¸æœƒæœ‰é¡å¤–æˆæœ¬

#### **å¯«å…¥åŠŸèƒ½ï¼ˆéœ€è¦ Gasï¼‰**
- éœ€è¦å¡«å…¥å¿…è¦åƒæ•¸
- é»æ“Š "Send" æŒ‰éˆ•åŸ·è¡Œäº¤æ˜“
- éœ€è¦ç­‰å¾…äº¤æ˜“ç¢ºèªï¼ˆé€šå¸¸å¹¾ç§’é˜ï¼‰

#### **äº‹ä»¶ç›£è½**
- åœ¨é é¢åº•éƒ¨å¯ä»¥çœ‹åˆ°äº‹ä»¶æ—¥èªŒ
- æ¯æ¬¡å¯«å…¥æ“ä½œéƒ½æœƒè§¸ç™¼å°æ‡‰äº‹ä»¶

---

## åŠŸèƒ½æ¸¬è©¦æ¸…å–®

### âœ… **æ¸¬è©¦ä¸€ï¼šåˆå§‹ç‹€æ…‹æª¢æŸ¥**

**ç›®æ¨™**ï¼šç¢ºèªåˆç´„éƒ¨ç½²å¾Œçš„åˆå§‹ç‹€æ…‹æ­£ç¢º

1. **æª¢æŸ¥ç•™è¨€ç¸½æ•¸**
   - é»æ“Š `getTotalMessages`
   - **é æœŸçµæœ**ï¼š`0`

2. **æª¢æŸ¥æš«åœç‹€æ…‹**
   - é»æ“Š `isPaused`
   - **é æœŸçµæœ**ï¼š`false`

3. **æª¢æŸ¥æ“æœ‰è€…**
   - é»æ“Š `owner`
   - **é æœŸçµæœ**ï¼šéƒ¨ç½²è€…åœ°å€ï¼ˆé€šå¸¸æ˜¯ `0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266`ï¼‰

### âœ… **æ¸¬è©¦äºŒï¼šç™¼å¸ƒç¬¬ä¸€å‰‡ç•™è¨€**

**ç›®æ¨™**ï¼šæ¸¬è©¦åŸºæœ¬çš„ç•™è¨€ç™¼å¸ƒåŠŸèƒ½

1. **ç™¼å¸ƒç•™è¨€**
   - æ‰¾åˆ° `postMessage` å‡½å¼
   - åœ¨ `_ipfsCid` æ¬„ä½è¼¸å…¥ï¼š`QmTestMessage1`
   - é»æ“Š "Send" æŒ‰éˆ•
   - **é æœŸçµæœ**ï¼šäº¤æ˜“æˆåŠŸï¼Œé¡¯ç¤ºäº¤æ˜“é›œæ¹Š

2. **é©—è­‰ç•™è¨€ç™¼å¸ƒ**
   - é»æ“Š `getTotalMessages`
   - **é æœŸçµæœ**ï¼š`1`

3. **æª¢æŸ¥äº‹ä»¶**
   - åœ¨é é¢åº•éƒ¨æŸ¥çœ‹ Events å€åŸŸ
   - **é æœŸçµæœ**ï¼šçœ‹åˆ° `MessagePosted` äº‹ä»¶ï¼ŒåŒ…å«æ­£ç¢ºçš„åƒæ•¸

### âœ… **æ¸¬è©¦ä¸‰ï¼šè®€å–ç•™è¨€å…§å®¹**

**ç›®æ¨™**ï¼šæ¸¬è©¦å„ç¨®ç•™è¨€è®€å–åŠŸèƒ½

1. **è®€å–æ‰€æœ‰ç•™è¨€**
   - é»æ“Š `getAllMessages`
   - **é æœŸçµæœ**ï¼šé¡¯ç¤ºé™£åˆ—ï¼ŒåŒ…å«ä¸€å‰‡ç•™è¨€ï¼Œå…§å®¹æ‡‰è©²åŒ¹é…æˆ‘å€‘å‰›æ‰ç™¼å¸ƒçš„

2. **è®€å–ç‰¹å®šç•™è¨€**
   - åœ¨ `getMessage` å‡½å¼çš„ `_messageId` æ¬„ä½è¼¸å…¥ï¼š`0`
   - é»æ“ŠåŸ·è¡Œ
   - **é æœŸçµæœ**ï¼šé¡¯ç¤ºç¬¬ä¸€å‰‡ç•™è¨€çš„è©³ç´°è³‡è¨Š

3. **è®€å–æœ€æ–°ç•™è¨€**
   - åœ¨ `getLatestMessages` å‡½å¼çš„ `_count` æ¬„ä½è¼¸å…¥ï¼š`5`
   - é»æ“ŠåŸ·è¡Œ
   - **é æœŸçµæœ**ï¼šé¡¯ç¤ºæœ€æ–°çš„ç•™è¨€ï¼ˆç›®å‰åªæœ‰ä¸€å‰‡ï¼‰

### âœ… **æ¸¬è©¦å››ï¼šå¤šå‰‡ç•™è¨€æ¸¬è©¦**

**ç›®æ¨™**ï¼šæ¸¬è©¦å¤šå‰‡ç•™è¨€çš„æƒ…æ³

1. **ç™¼å¸ƒæ›´å¤šç•™è¨€**
   - ä½¿ç”¨ `postMessage` ç™¼å¸ƒä»¥ä¸‹ CIDï¼š
     - `QmTestMessage2`
     - `QmTestMessage3`
     - `QmUserStory1`

2. **é©—è­‰ç•™è¨€æ•¸é‡**
   - é»æ“Š `getTotalMessages`
   - **é æœŸçµæœ**ï¼š`4`

3. **æ¸¬è©¦æœ€æ–°ç•™è¨€æŸ¥è©¢**
   - ä½¿ç”¨ `getLatestMessages` æŸ¥è©¢æœ€æ–° 2 å‰‡ç•™è¨€
   - **é æœŸçµæœ**ï¼šæ‡‰è©²è¿”å›æœ€å¾Œç™¼å¸ƒçš„å…©å‰‡ç•™è¨€ï¼Œä¸”é †åºç‚ºæœ€æ–°åˆ°æœ€èˆŠ

### âœ… **æ¸¬è©¦äº”ï¼šä½¿ç”¨è€…ç•™è¨€æŸ¥è©¢**

**ç›®æ¨™**ï¼šæ¸¬è©¦ä½¿ç”¨è€…ç‰¹å®šç•™è¨€æŸ¥è©¢åŠŸèƒ½

1. **æŸ¥è©¢ç•¶å‰ä½¿ç”¨è€…çš„ç•™è¨€**
   - åœ¨ `getUserMessages` çš„ `_user` æ¬„ä½è¼¸å…¥ç•¶å‰éŒ¢åŒ…åœ°å€
   - é»æ“ŠåŸ·è¡Œ
   - **é æœŸçµæœ**ï¼šé¡¯ç¤ºè©²ä½¿ç”¨è€…ç™¼å¸ƒçš„æ‰€æœ‰ç•™è¨€

2. **æŸ¥è©¢ä½¿ç”¨è€…ç•™è¨€æ•¸é‡**
   - åœ¨ `getUserMessageCount` çš„ `_user` æ¬„ä½è¼¸å…¥ç•¶å‰éŒ¢åŒ…åœ°å€
   - é»æ“ŠåŸ·è¡Œ
   - **é æœŸçµæœ**ï¼šé¡¯ç¤ºè©²ä½¿ç”¨è€…çš„ç•™è¨€ç¸½æ•¸

### âœ… **æ¸¬è©¦å…­ï¼šéŒ¯èª¤è™•ç†æ¸¬è©¦**

**ç›®æ¨™**ï¼šæ¸¬è©¦è¼¸å…¥é©—è­‰å’ŒéŒ¯èª¤è™•ç†

1. **æ¸¬è©¦ç©º CID**
   - ä½¿ç”¨ `postMessage` ç™¼å¸ƒç©ºå­—ä¸² `""`
   - **é æœŸçµæœ**ï¼šäº¤æ˜“å¤±æ•—ï¼Œé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ "CID cannot be empty"

2. **æ¸¬è©¦éé•· CID**
   - è¼¸å…¥è¶…é 100 å­—å…ƒçš„å­—ä¸²
   - **é æœŸçµæœ**ï¼šäº¤æ˜“å¤±æ•—ï¼Œé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ "CID too long"

3. **æ¸¬è©¦ä¸å­˜åœ¨çš„ç•™è¨€ ID**
   - ä½¿ç”¨ `getMessage` æŸ¥è©¢ ID `999`
   - **é æœŸçµæœ**ï¼šå¤±æ•—ï¼Œé¡¯ç¤º "Message does not exist"

### âœ… **æ¸¬è©¦ä¸ƒï¼šç®¡ç†åŠŸèƒ½æ¸¬è©¦**

**ç›®æ¨™**ï¼šæ¸¬è©¦åˆç´„çš„ç®¡ç†åŠŸèƒ½

1. **æš«åœåˆç´„**
   - ä½¿ç”¨ `setPaused` å‡½å¼ï¼Œè¨­å®šç‚º `true`
   - **é æœŸçµæœ**ï¼šäº¤æ˜“æˆåŠŸ

2. **é©—è­‰æš«åœç‹€æ…‹**
   - é»æ“Š `isPaused`
   - **é æœŸçµæœ**ï¼š`true`

3. **æ¸¬è©¦æš«åœæœŸé–“ç™¼å¸ƒ**
   - å˜—è©¦ä½¿ç”¨ `postMessage` ç™¼å¸ƒæ–°ç•™è¨€
   - **é æœŸçµæœ**ï¼šäº¤æ˜“å¤±æ•—ï¼Œé¡¯ç¤º "Contract is paused"

4. **æ¢å¾©åˆç´„**
   - ä½¿ç”¨ `setPaused` å‡½å¼ï¼Œè¨­å®šç‚º `false`
   - **é æœŸçµæœ**ï¼šäº¤æ˜“æˆåŠŸï¼Œå¯ä»¥ç¹¼çºŒç™¼å¸ƒç•™è¨€

---

## å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### â“ **éƒ¨ç½²ç›¸é—œå•é¡Œ**

#### **å•é¡Œï¼šåˆç´„ç·¨è­¯å¤±æ•—**
```
Error: Solidity compilation failed
```

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. æª¢æŸ¥ Solidity èªæ³•éŒ¯èª¤
2. ç¢ºèª pragma ç‰ˆæœ¬æ­£ç¢º
3. æª¢æŸ¥ import è·¯å¾‘

```bash
# æ¸…ç†ä¸¦é‡æ–°ç·¨è­¯
yarn clean
yarn compile
```

#### **å•é¡Œï¼šéƒ¨ç½²è…³æœ¬æ‰¾ä¸åˆ°**
```
Error: No deployment scripts found
```

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèª `deploy/` ç›®éŒ„å­˜åœ¨
2. æª¢æŸ¥æª”æ¡ˆå‘½åæ ¼å¼ï¼š`00_deploy_message_board.ts`
3. é©—è­‰æª”æ¡ˆå…§å®¹å’Œ export

#### **å•é¡Œï¼šGas ä¸è¶³**
```
Error: Transaction ran out of gas
```

**è§£æ±ºæ–¹æ¡ˆï¼š**
åœ¨ `hardhat.config.ts` ä¸­å¢åŠ  gas limitï¼š

```typescript
const config: HardhatUserConfig = {
  networks: {
    localhost: {
      gas: 5000000,
      gasPrice: 8000000000,
    },
  },
};
```

### â“ **å‰ç«¯é€£æ¥å•é¡Œ**

#### **å•é¡Œï¼šå‰ç«¯ç„¡æ³•é€£æ¥åˆ°åˆç´„**
```
Error: Contract not found
```

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèª `yarn chain` æ­£åœ¨é‹è¡Œ
2. é‡æ–°éƒ¨ç½²åˆç´„ï¼š`yarn deploy`
3. é‡æ–°å•Ÿå‹•å‰ç«¯ï¼š`yarn start`

#### **å•é¡Œï¼šMetaMask ç¶²è·¯éŒ¯èª¤**
```
Error: Unsupported chain
```

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. åœ¨ MetaMask ä¸­æ·»åŠ æœ¬åœ°ç¶²è·¯ï¼š
   - ç¶²è·¯åç¨±ï¼šLocalhost 8545
   - RPC URLï¼šhttp://127.0.0.1:8545
   - Chain IDï¼š31337
   - è²¨å¹£ç¬¦è™Ÿï¼šETH

2. åˆ‡æ›åˆ°æœ¬åœ°ç¶²è·¯
3. å°å…¥æ¸¬è©¦å¸³æˆ¶ç§é‘°

### â“ **Debug Contracts å•é¡Œ**

#### **å•é¡Œï¼šçœ‹ä¸åˆ°åˆç´„ä»‹é¢**
**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèªåˆç´„éƒ¨ç½²æˆåŠŸ
2. é‡æ–°æ•´ç†é é¢
3. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤

#### **å•é¡Œï¼šå‡½å¼å‘¼å«å¤±æ•—**
**è§£æ±ºæ–¹æ¡ˆï¼š**
1. æª¢æŸ¥éŒ¢åŒ…é€£æ¥ç‹€æ…‹
2. ç¢ºèªå¸³æˆ¶æœ‰è¶³å¤ çš„ ETH
3. æª¢æŸ¥åƒæ•¸æ ¼å¼æ˜¯å¦æ­£ç¢º

### â“ **æ€§èƒ½å„ªåŒ–**

#### **å•é¡Œï¼šæŸ¥è©¢é€Ÿåº¦æ…¢**
**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ä½¿ç”¨ `getLatestMessages` è€Œé `getAllMessages`
2. å¯¦ç¾åˆ†é æŸ¥è©¢
3. è€ƒæ…®ä½¿ç”¨äº‹ä»¶éæ¿¾

#### **å•é¡Œï¼šGas è²»ç”¨é«˜**
**è§£æ±ºæ–¹æ¡ˆï¼š**
1. å„ªåŒ–åˆç´„é‚è¼¯
2. ä½¿ç”¨ events æ›¿ä»£ storage è®€å–
3. æ‰¹æ¬¡è™•ç†å¤šå€‹æ“ä½œ

---

## ğŸ“Š æ¸¬è©¦çµæœæª¢æŸ¥è¡¨

å®Œæˆæ‰€æœ‰æ¸¬è©¦å¾Œï¼Œç¢ºèªä»¥ä¸‹é …ç›®ï¼š

- [ ] âœ… åˆç´„æˆåŠŸéƒ¨ç½²
- [ ] âœ… åŸºæœ¬è®€å¯«åŠŸèƒ½æ­£å¸¸
- [ ] âœ… ç•™è¨€ç™¼å¸ƒå’Œè®€å–åŠŸèƒ½
- [ ] âœ… ä½¿ç”¨è€…æŸ¥è©¢åŠŸèƒ½
- [ ] âœ… éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- [ ] âœ… ç®¡ç†åŠŸèƒ½ï¼ˆæš«åœ/æ¢å¾©ï¼‰
- [ ] âœ… äº‹ä»¶æ­£ç¢ºè§¸ç™¼
- [ ] âœ… Gas è²»ç”¨åˆç†
- [ ] âœ… å‰ç«¯ä»‹é¢æµæš¢

---

## ğŸ¯ é€²éšæ¸¬è©¦å»ºè­°

### **æ•ˆèƒ½æ¸¬è©¦**
```bash
# åœ¨ hardhat console ä¸­æ¸¬è©¦å¤§é‡ç•™è¨€
const promises = [];
for(let i = 0; i < 100; i++) {
  promises.push(messageBoard.postMessage(`QmTestBatch${i}`));
}
await Promise.all(promises);
```

### **ä¸¦ç™¼æ¸¬è©¦**
```javascript
// æ¸¬è©¦å¤šå€‹ä½¿ç”¨è€…åŒæ™‚ç™¼å¸ƒç•™è¨€
const [user1, user2, user3] = await ethers.getSigners();

await Promise.all([
  messageBoard.connect(user1).postMessage("QmUser1Message"),
  messageBoard.connect(user2).postMessage("QmUser2Message"),
  messageBoard.connect(user3).postMessage("QmUser3Message"),
]);
```

### **é‚Šç•Œå€¼æ¸¬è©¦**
```javascript
// æ¸¬è©¦æœ€å¤§é•·åº¦ CID
const maxCid = "Q" + "m".repeat(99); // 100 å­—å…ƒ
await messageBoard.postMessage(maxCid);

// æ¸¬è©¦è¶…éæœ€å¤§é•·åº¦
const oversizeCid = "Q" + "m".repeat(100); // 101 å­—å…ƒ
// æ‡‰è©²å¤±æ•—
```

---

## ğŸ“ æœ¬èª²ç¸½çµ

### **å·²æŒæ¡çš„æŠ€èƒ½**

1. âœ… **éƒ¨ç½²æµç¨‹**ï¼šå¾ç·¨è­¯åˆ°éƒ¨ç½²çš„å®Œæ•´æµç¨‹
2. âœ… **æ¸¬è©¦æ–¹æ³•**ï¼šä½¿ç”¨ Debug Contracts é€²è¡Œå…¨é¢æ¸¬è©¦
3. âœ… **éŒ¯èª¤è™•ç†**ï¼šè­˜åˆ¥å’Œè§£æ±ºå¸¸è¦‹å•é¡Œ
4. âœ… **æ€§èƒ½è©•ä¼°**ï¼šäº†è§£åˆç´„çš„ Gas æ¶ˆè€—å’Œæ€§èƒ½ç‰¹å¾µ

### **é—œéµå­¸ç¿’é»**

1. **ç³»çµ±æ€§æ¸¬è©¦**ï¼šæŒ‰åŠŸèƒ½æ¨¡çµ„é€ä¸€é©—è­‰
2. **é‚Šç•Œæ¸¬è©¦**ï¼šæ¸¬è©¦æ¥µé™æƒ…æ³å’ŒéŒ¯èª¤è™•ç†
3. **ä½¿ç”¨è€…é«”é©—**ï¼šå¾ä½¿ç”¨è€…è§’åº¦é©—è­‰åŠŸèƒ½å®Œæ•´æ€§
4. **å•é¡Œè§£æ±º**ï¼šæŒæ¡å¸¸è¦‹å•é¡Œçš„è¨ºæ–·å’Œè§£æ±ºæ–¹æ³•

### **ä¸‹ä¸€éšæ®µé å‘Š**

æ­å–œï¼æ‚¨å·²ç¶“å®Œæˆäº†æ™ºèƒ½åˆç´„çš„é–‹ç™¼å’Œæ¸¬è©¦ã€‚åœ¨æ¨¡çµ„å››ä¸­ï¼Œæˆ‘å€‘å°‡é€²å…¥æœ€æ¿€å‹•äººå¿ƒçš„éƒ¨åˆ†ï¼š
1. å»ºç«‹å‰ç«¯èˆ‡ IPFS çš„æ•´åˆ
2. å¯¦ç¾å®Œæ•´çš„ä½¿ç”¨è€…äº’å‹•æµç¨‹
3. æ‰“é€ ä¸€å€‹çœŸæ­£çš„å»ä¸­å¿ƒåŒ–æ‡‰ç”¨

---

## ğŸ”— å»¶ä¼¸é–±è®€

- [Hardhat éƒ¨ç½²æŒ‡å—](https://hardhat.org/tutorial/deploying-to-a-live-network.html)
- [Scaffold-eth-2 æ–‡ä»¶](https://docs.scaffoldeth.io/)
- [æ™ºèƒ½åˆç´„æ¸¬è©¦æœ€ä½³å¯¦è¸](https://ethereum.org/en/developers/docs/smart-contracts/testing/)

**ä¸‹ä¸€æ¨¡çµ„ï¼š** [æ¨¡çµ„å››ï¼šå‰ç«¯æ•´åˆ - é€£æ¥ IPFS èˆ‡å€å¡Šéˆ](../æ¨¡çµ„å››/ç¬¬ä¸€èª²-å‰ç«¯æ¶æ§‹èˆ‡ç’°å¢ƒè®Šæ•¸è¨­å®š.md)
