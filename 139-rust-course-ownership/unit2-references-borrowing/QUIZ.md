# å–®å…ƒäºŒéš¨å ‚æ¸¬é©—ï¼šåƒè€ƒèˆ‡å€Ÿç”¨

**æ¸¬é©—æ™‚é–“ï¼š** 40 åˆ†é˜  
**ç¸½åˆ†ï¼š** 100 åˆ†  
**åŠæ ¼åˆ†æ•¸ï¼š** 70 åˆ†

---

## ğŸ“ ç¬¬ä¸€éƒ¨åˆ†ï¼šé¸æ“‡é¡Œï¼ˆæ¯é¡Œ 8 åˆ†ï¼Œå…± 40 åˆ†ï¼‰

### 1. é—œæ–¼å€Ÿç”¨çš„æè¿°ï¼Œä½•è€…æ­£ç¢ºï¼Ÿ
A. å€Ÿç”¨æœƒè½‰ç§»æ‰€æœ‰æ¬Š  
B. å€Ÿç”¨è®“ä½ åœ¨ä¸ç²å¾—æ‰€æœ‰æ¬Šçš„æƒ…æ³ä¸‹ä½¿ç”¨å€¼  
C. å€Ÿç”¨åªèƒ½ç”¨æ–¼å †ç©ä¸Šçš„è³‡æ–™  
D. å€Ÿç”¨æœƒè¤‡è£½è³‡æ–™

### 2. åŒä¸€æ™‚é–“å…§ï¼Œå°åŒä¸€å€‹å€¼å¯ä»¥æœ‰å¤šå°‘å€‹ä¸å¯è®Šå€Ÿç”¨ï¼Ÿ
A. åªèƒ½æœ‰ 1 å€‹  
B. æœ€å¤š 2 å€‹  
C. ä»»æ„æ•¸é‡  
D. æ ¹æ“šè³‡æ–™å‹åˆ¥è€Œå®š

### 3. åŒä¸€æ™‚é–“å…§ï¼Œå°åŒä¸€å€‹å€¼å¯ä»¥æœ‰å¤šå°‘å€‹å¯è®Šå€Ÿç”¨ï¼Ÿ
A. åªèƒ½æœ‰ 1 å€‹  
B. æœ€å¤š 2 å€‹  
C. ä»»æ„æ•¸é‡  
D. æ ¹æ“šè³‡æ–™å‹åˆ¥è€Œå®š

### 4. å¯è®Šå€Ÿç”¨å’Œä¸å¯è®Šå€Ÿç”¨èƒ½å¦åŒæ™‚å­˜åœ¨ï¼Ÿ
A. å¯ä»¥ï¼Œæ²’æœ‰é™åˆ¶  
B. ä¸å¯ä»¥ï¼Œæœƒå°è‡´ç·¨è­¯éŒ¯èª¤  
C. åªæœ‰åœ¨ç‰¹æ®Šæƒ…æ³ä¸‹å¯ä»¥  
D. å–æ±ºæ–¼è³‡æ–™çš„å¤§å°

### 5. ä»€éº¼æ˜¯æ‡¸æ›åƒè€ƒï¼Ÿ
A. æŒ‡å‘å †ç–Šä¸Šè³‡æ–™çš„åƒè€ƒ  
B. æŒ‡å‘å·²è¢«é‡‹æ”¾è¨˜æ†¶é«”çš„åƒè€ƒ  
C. æŒ‡å‘å¯è®Šè³‡æ–™çš„åƒè€ƒ  
D. æŒ‡å‘è¤‡è£½è³‡æ–™çš„åƒè€ƒ

---

## âœï¸ ç¬¬äºŒéƒ¨åˆ†ï¼šç¨‹å¼ç¢¼åˆ†æé¡Œï¼ˆæ¯é¡Œ 15 åˆ†ï¼Œå…± 30 åˆ†ï¼‰

### 6. åˆ†æå€Ÿç”¨éŒ¯èª¤

```rust
fn problem_code() {
    let mut s = String::from("hello");
    
    let r1 = &s;
    let r2 = &s;
    let r3 = &mut s;
    
    println!("{}, {}, {}", r1, r2, r3);
}
```

è«‹å›ç­”ï¼š
a) é€™æ®µç¨‹å¼ç¢¼æœƒç”¢ç”Ÿä»€éº¼ç·¨è­¯éŒ¯èª¤ï¼Ÿ
b) ç‚ºä»€éº¼æœƒç”¢ç”Ÿé€™å€‹éŒ¯èª¤ï¼Ÿ
c) æä¾›å…©ç¨®ä¿®å¾©æ–¹æ¡ˆã€‚

### 7. ç”Ÿå‘½é€±æœŸåˆ†æ

```rust
fn analyze_lifetime() {
    let string1 = String::from("abcd");
    let result;
    
    {
        let string2 = String::from("xyz");
        result = longer(&string1, &string2);
    }
    
    println!("Result: {}", result);
}

fn longer(x: &str, y: &str) -> &str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}
```

è«‹åˆ†æï¼š
a) é€™æ®µç¨‹å¼ç¢¼èƒ½å¦ç·¨è­¯æˆåŠŸï¼Ÿ
b) å¦‚æœä¸èƒ½ï¼Œæ˜¯ä»€éº¼åŸå› ï¼Ÿ
c) å¦‚ä½•ä¿®å¾©é€™å€‹å•é¡Œï¼Ÿ

---

## ğŸ§  ç¬¬ä¸‰éƒ¨åˆ†ï¼šå¯¦ä½œé¡Œï¼ˆæ¯é¡Œ 15 åˆ†ï¼Œå…± 30 åˆ†ï¼‰

### 8. ä¿®å¾©å€Ÿç”¨éŒ¯èª¤

ä»¥ä¸‹ç¨‹å¼ç¢¼æœ‰å€Ÿç”¨ç›¸é—œçš„éŒ¯èª¤ï¼Œè«‹ä¿®å¾©å®ƒï¼š

```rust
fn broken_function() {
    let mut numbers = vec![1, 2, 3, 4, 5];
    
    let first = &numbers[0];
    numbers.push(6);
    println!("ç¬¬ä¸€å€‹æ•¸å­—: {}", first);
    
    let last = &mut numbers[numbers.len() - 1];
    let second_last = &numbers[numbers.len() - 2];
    *last += *second_last;
    
    println!("ä¿®æ”¹å¾Œçš„æœ€å¾Œä¸€å€‹æ•¸å­—: {}", last);
}
```

### 9. è¨­è¨ˆå‡½æ•¸æ¥å£

è¨­è¨ˆä¸€å€‹å‡½æ•¸ `find_and_replace`ï¼Œæ»¿è¶³ä»¥ä¸‹è¦æ±‚ï¼š
- æ¥æ”¶ä¸€å€‹å­—ä¸²å‘é‡çš„å¯è®Šå€Ÿç”¨
- æ¥æ”¶è¦æŸ¥æ‰¾çš„å­—ä¸²çš„å€Ÿç”¨
- æ¥æ”¶æ›¿æ›å­—ä¸²çš„å€Ÿç”¨
- å°‡å‘é‡ä¸­æ‰€æœ‰åŒ¹é…çš„å­—ä¸²æ›¿æ›ç‚ºæ–°å­—ä¸²
- è¿”å›æ›¿æ›çš„æ¬¡æ•¸

æä¾›å®Œæ•´çš„å‡½æ•¸å¯¦ä½œå’Œä½¿ç”¨ç¯„ä¾‹ã€‚

---

# ğŸ“Š æ¸¬é©—è§£ç­”

## ç¬¬ä¸€éƒ¨åˆ†ï¼šé¸æ“‡é¡Œè§£ç­”

### 1. ç­”æ¡ˆï¼šB
**è§£é‡‹ï¼š** å€Ÿç”¨çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯è®“ä½ åœ¨ä¸ç²å¾—æ‰€æœ‰æ¬Šçš„æƒ…æ³ä¸‹ä½¿ç”¨å€¼ã€‚é€šéåƒè€ƒï¼ˆ&ï¼‰ï¼Œä½ å¯ä»¥è®€å–æˆ–ä¿®æ”¹è³‡æ–™è€Œä¸éœ€è¦å–å¾—æ‰€æœ‰æ¬Šã€‚

### 2. ç­”æ¡ˆï¼šC  
**è§£é‡‹ï¼š** å°åŒä¸€å€‹å€¼å¯ä»¥åŒæ™‚å­˜åœ¨ä»»æ„æ•¸é‡çš„ä¸å¯è®Šå€Ÿç”¨ï¼Œå› ç‚ºå¤šå€‹è®€å–è€…ä¸æœƒäº’ç›¸å¹²æ“¾ã€‚

### 3. ç­”æ¡ˆï¼šA
**è§£é‡‹ï¼š** åŒä¸€æ™‚é–“åªèƒ½æœ‰ä¸€å€‹å¯è®Šå€Ÿç”¨ï¼Œé€™æ˜¯ Rust é˜²æ­¢è³‡æ–™ç«¶çˆ­çš„æ ¸å¿ƒæ©Ÿåˆ¶ã€‚

### 4. ç­”æ¡ˆï¼šB
**è§£é‡‹ï¼š** å¯è®Šå€Ÿç”¨å’Œä¸å¯è®Šå€Ÿç”¨ä¸èƒ½åŒæ™‚å­˜åœ¨ï¼Œé€™æœƒå°è‡´ç·¨è­¯éŒ¯èª¤ã€‚é€™é˜²æ­¢äº†åœ¨æœ‰äººæ­£åœ¨ä¿®æ”¹è³‡æ–™æ™‚å…¶ä»–äººé‚„åœ¨è®€å–ã€‚

### 5. ç­”æ¡ˆï¼šB
**è§£é‡‹ï¼š** æ‡¸æ›åƒè€ƒæ˜¯æŒ‡å‘å·²ç¶“è¢«é‡‹æ”¾è¨˜æ†¶é«”çš„åƒè€ƒï¼Œé€™æ˜¯ä¸€ç¨®åš´é‡çš„è¨˜æ†¶é«”å®‰å…¨å•é¡Œï¼ŒRust çš„å€Ÿç”¨æª¢æŸ¥å™¨æœƒåœ¨ç·¨è­¯æœŸé˜²æ­¢é€™ç¨®æƒ…æ³ã€‚

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šç¨‹å¼ç¢¼åˆ†æé¡Œè§£ç­”

### 6. å€Ÿç”¨éŒ¯èª¤åˆ†æï¼ˆ15åˆ†ï¼‰

**a) ç·¨è­¯éŒ¯èª¤ï¼ˆ5åˆ†ï¼‰**
```
error[E0502]: cannot borrow `s` as mutable because it is also borrowed as immutable
```

**b) éŒ¯èª¤åŸå› ï¼ˆ5åˆ†ï¼‰**
ç¨‹å¼ç¢¼åŒæ™‚å»ºç«‹äº†ä¸å¯è®Šå€Ÿç”¨ï¼ˆr1, r2ï¼‰å’Œå¯è®Šå€Ÿç”¨ï¼ˆr3ï¼‰ã€‚æ ¹æ“š Rust çš„å€Ÿç”¨è¦å‰‡ï¼Œä¸å¯è®Šå€Ÿç”¨å’Œå¯è®Šå€Ÿç”¨ä¸èƒ½åŒæ™‚å­˜åœ¨ã€‚

**c) ä¿®å¾©æ–¹æ¡ˆï¼ˆ5åˆ†ï¼‰**

æ–¹æ¡ˆ1ï¼šä½¿ç”¨ä½œç”¨åŸŸåˆ†é›¢å€Ÿç”¨
```rust
fn fixed_code_1() {
    let mut s = String::from("hello");
    
    {
        let r1 = &s;
        let r2 = &s;
        println!("{}, {}", r1, r2);
    } // r1, r2 åœ¨æ­¤çµæŸ
    
    let r3 = &mut s;
    println!("{}", r3);
}
```

æ–¹æ¡ˆ2ï¼šåˆ©ç”¨ NLLï¼ˆéè©æ³•ç”Ÿå‘½é€±æœŸï¼‰
```rust
fn fixed_code_2() {
    let mut s = String::from("hello");
    
    let r1 = &s;
    let r2 = &s;
    println!("{}, {}", r1, r2); // r1, r2 æœ€å¾Œä½¿ç”¨ï¼Œå€Ÿç”¨çµæŸ
    
    let r3 = &mut s; // ç¾åœ¨å¯ä»¥å»ºç«‹å¯è®Šå€Ÿç”¨
    println!("{}", r3);
}
```

### 7. ç”Ÿå‘½é€±æœŸåˆ†æï¼ˆ15åˆ†ï¼‰

**a) ç·¨è­¯çµæœï¼ˆ5åˆ†ï¼‰**
é€™æ®µç¨‹å¼ç¢¼ç„¡æ³•ç·¨è­¯æˆåŠŸã€‚

**b) åŸå› åˆ†æï¼ˆ5åˆ†ï¼‰**
`string2` åœ¨å…§å±¤ä½œç”¨åŸŸçµæŸæ™‚è¢«ä¸Ÿæ£„ï¼Œä½† `result` å¯èƒ½æŒ‡å‘ `string2`ã€‚ç•¶ç¨‹å¼å˜—è©¦åœ¨å¤–å±¤ä½œç”¨åŸŸä½¿ç”¨ `result` æ™‚ï¼Œå®ƒå¯èƒ½æŒ‡å‘å·²è¢«é‡‹æ”¾çš„è¨˜æ†¶é«”ã€‚

**c) ä¿®å¾©æ–¹æ¡ˆï¼ˆ5åˆ†ï¼‰**

æ–¹æ¡ˆ1ï¼šç¢ºä¿æ‰€æœ‰è³‡æ–™éƒ½æœ‰è¶³å¤ é•·çš„ç”Ÿå‘½é€±æœŸ
```rust
fn fixed_lifetime_1() {
    let string1 = String::from("abcd");
    let string2 = String::from("xyz"); // ç§»åˆ°å¤–å±¤ä½œç”¨åŸŸ
    
    let result = longer(&string1, &string2);
    println!("Result: {}", result);
}
```

æ–¹æ¡ˆ2ï¼šè¿”å›æ‰€æœ‰æ¬Šè€Œéå€Ÿç”¨
```rust
fn longer_owned(x: &str, y: &str) -> String {
    if x.len() > y.len() {
        x.to_string()
    } else {
        y.to_string()
    }
}

fn fixed_lifetime_2() {
    let string1 = String::from("abcd");
    let result;
    
    {
        let string2 = String::from("xyz");
        result = longer_owned(&string1, &string2);
    }
    
    println!("Result: {}", result);
}
```

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šå¯¦ä½œé¡Œè§£ç­”

### 8. ä¿®å¾©å€Ÿç”¨éŒ¯èª¤ï¼ˆ15åˆ†ï¼‰

**å•é¡Œåˆ†æï¼š**
1. `first` å€Ÿç”¨äº† `numbers`ï¼Œä½†æ¥è‘— `push` éœ€è¦å¯è®Šå€Ÿç”¨
2. `last` å’Œ `second_last` åŒæ™‚å€Ÿç”¨äº† `numbers`ï¼Œä¸€å€‹å¯è®Šä¸€å€‹ä¸å¯è®Š

**ä¿®å¾©å¾Œçš„ç¨‹å¼ç¢¼ï¼š**
```rust
fn fixed_function() {
    let mut numbers = vec![1, 2, 3, 4, 5];
    
    // æ–¹æ¡ˆ1ï¼šç¸®çŸ­å€Ÿç”¨ç¯„åœ
    {
        let first = &numbers[0];
        println!("ç¬¬ä¸€å€‹æ•¸å­—: {}", first);
    } // first å€Ÿç”¨çµæŸ
    
    numbers.push(6);
    
    // æ–¹æ¡ˆ2ï¼šåˆ†é–‹è™•ç†å€Ÿç”¨
    let last_index = numbers.len() - 1;
    let second_last_value = numbers[numbers.len() - 2]; // è¤‡è£½å€¼
    numbers[last_index] += second_last_value;
    
    println!("ä¿®æ”¹å¾Œçš„æœ€å¾Œä¸€å€‹æ•¸å­—: {}", numbers[last_index]);
}

// æ›´å„ªé›…çš„ç‰ˆæœ¬
fn elegant_fixed_function() {
    let mut numbers = vec![1, 2, 3, 4, 5];
    
    // å…ˆè™•ç†éœ€è¦ä¸å¯è®Šå€Ÿç”¨çš„é‚è¼¯
    let first_value = numbers[0];
    println!("ç¬¬ä¸€å€‹æ•¸å­—: {}", first_value);
    
    // ç„¶å¾Œè™•ç†éœ€è¦å¯è®Šå€Ÿç”¨çš„é‚è¼¯
    numbers.push(6);
    
    // å®‰å…¨åœ°ä¿®æ”¹æœ€å¾Œä¸€å€‹å…ƒç´ 
    let len = numbers.len();
    if len >= 2 {
        let second_last_value = numbers[len - 2];
        numbers[len - 1] += second_last_value;
        println!("ä¿®æ”¹å¾Œçš„æœ€å¾Œä¸€å€‹æ•¸å­—: {}", numbers[len - 1]);
    }
}
```

### 9. è¨­è¨ˆå‡½æ•¸æ¥å£ï¼ˆ15åˆ†ï¼‰

**å‡½æ•¸å¯¦ä½œï¼š**
```rust
fn find_and_replace(
    strings: &mut Vec<String>,
    target: &str,
    replacement: &str,
) -> usize {
    let mut count = 0;
    
    for string in strings.iter_mut() {
        if string == target {
            *string = replacement.to_string();
            count += 1;
        }
    }
    
    count
}

// ä½¿ç”¨ç¯„ä¾‹
fn main() {
    let mut words = vec![
        String::from("hello"),
        String::from("world"),
        String::from("hello"),
        String::from("rust"),
        String::from("hello"),
    ];
    
    println!("æ›¿æ›å‰: {:?}", words);
    
    let replacements = find_and_replace(&mut words, "hello", "hi");
    
    println!("æ›¿æ›å¾Œ: {:?}", words);
    println!("æ›¿æ›äº† {} å€‹å­—ä¸²", replacements);
}
```

**é€²éšç‰ˆæœ¬ï¼ˆæ”¯æ´éƒ¨åˆ†åŒ¹é…ï¼‰ï¼š**
```rust
fn find_and_replace_partial(
    strings: &mut Vec<String>,
    target: &str,
    replacement: &str,
) -> usize {
    let mut count = 0;
    
    for string in strings.iter_mut() {
        if string.contains(target) {
            *string = string.replace(target, replacement);
            count += 1;
        }
    }
    
    count
}
```

**è©•åˆ†æ¨™æº–ï¼š**
- æ­£ç¢ºçš„å‡½æ•¸ç°½åï¼ˆå€Ÿç”¨å‹åˆ¥æ­£ç¢ºï¼‰ï¼š5åˆ†
- æ­£ç¢ºçš„å¯¦ä½œé‚è¼¯ï¼š5åˆ†
- å®Œæ•´çš„ä½¿ç”¨ç¯„ä¾‹ï¼š3åˆ†
- ç¨‹å¼ç¢¼é¢¨æ ¼å’Œè¨»é‡‹ï¼š2åˆ†

---

## ğŸ¯ è©•åˆ†ç­‰ç´š

- **90-100åˆ†ï¼š** å„ªç§€ - æ·±å…¥ç†è§£å€Ÿç”¨æ©Ÿåˆ¶å’Œç”Ÿå‘½é€±æœŸ
- **80-89åˆ†ï¼š** è‰¯å¥½ - å¾ˆå¥½æŒæ¡å€Ÿç”¨è¦å‰‡ï¼Œèƒ½è§£æ±ºå¯¦éš›å•é¡Œ  
- **70-79åˆ†ï¼š** åŠæ ¼ - åŸºæœ¬ç†è§£å€Ÿç”¨æ¦‚å¿µ
- **60-69åˆ†ï¼š** ä¸åŠæ ¼ - éœ€è¦é‡æ–°å­¸ç¿’å€Ÿç”¨è¦å‰‡
- **60åˆ†ä»¥ä¸‹ï¼š** ä¸åŠæ ¼ - å»ºè­°é‡æ–°å®Œæ•´å­¸ç¿’æœ¬å–®å…ƒ

## ğŸ“š å¾©ç¿’å»ºè­°

å¦‚æœåˆ†æ•¸ä¸ç†æƒ³ï¼Œå»ºè­°é‡é»å¾©ç¿’ï¼š
1. **å€Ÿç”¨çš„åŸºæœ¬æ¦‚å¿µå’Œèªæ³•ï¼ˆ& å’Œ &mutï¼‰**
2. **ä¸å¯è®Šå€Ÿç”¨èˆ‡å¯è®Šå€Ÿç”¨çš„è¦å‰‡å’Œé™åˆ¶**  
3. **ç”Ÿå‘½é€±æœŸçš„åŸºæœ¬æ¦‚å¿µå’Œå¸¸è¦‹å•é¡Œ**
4. **å¦‚ä½•åˆ†æå’Œä¿®å¾©å€Ÿç”¨æª¢æŸ¥å™¨éŒ¯èª¤**
5. **NLLï¼ˆéè©æ³•ç”Ÿå‘½é€±æœŸï¼‰çš„å·¥ä½œåŸç†**
